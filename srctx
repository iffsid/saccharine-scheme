#!/bin/bash

sed -r -e 's/(->)+/_to_/g' \
    -e 's/\[/(/g' \
    -e 's/\]/)/g' \
    -e "s/([^ \(\']+)-([^ \(]+)/\1_\2/g" \
    -e 's/([^ \(]+)\?/is_\1/g' \
    -e 's/#t/true/g' \
    -e 's/#f/false/g' \
    -e 's/([^ \(]+)\*/\1$$/g' \
    -e 's/\*([^ \)]+)/$$\1/g' \
    ${1}
